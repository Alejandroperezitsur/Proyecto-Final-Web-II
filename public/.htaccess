RewriteEngine On
AcceptPathInfo On

# Sirve archivos y directorios existentes directamente
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# APIs legacy con PATH_INFO (no pasar por app.php)
RewriteRule ^api/admin/?$ api/admin/index.php [QSA,L]
RewriteRule ^api/admin/(.*)$ api/admin/index.php/$1 [QSA,L]
RewriteRule ^api/alumnos/?$ api/alumnos/index.php [QSA,L]
RewriteRule ^api/alumnos/(.*)$ api/alumnos/index.php/$1 [QSA,L]
RewriteRule ^api/profesores/?$ api/profesores/index.php [QSA,L]
RewriteRule ^api/profesores/(.*)$ api/profesores/index.php/$1 [QSA,L]

# Reescribe todo lo dem√°s a app.php
RewriteRule ^.*$ app.php [QSA,L]
